{% doc %}
  @prompt
    Create a section titled “Tutorials” for the SIYOU NAILS website. This section should feature three separate tutorials, each shown as a distinct card or block. Each tutorial includes three clearly defined steps, with the following structure:
    
    Section Specifications:
    
    Main heading: “Tutorials”
    
    Display three tutorial blocks in a row (responsive for mobile)
    
    Each tutorial has:
    
    Tutorial Title (editable)
    
    Subtitle (optional)
    
    Steps 1, 2, and 3 — each step with:
    
    Step Title
    
    Step Description (editable)
    
    Image (upload or choose from gallery)
    
    Steps presented vertically in each tutorial card/block
    
    Visual step indicator for each tutorial (e.g., “Step 1 of 3”)
    
    Navigation buttons inside each tutorial block:
    
    “Next Step” / “Previous Step”
    
    Centered below steps
    
    Smooth slide/fade animation between steps (300ms)
    
    Option to expand each step for details, or just display all steps in sequence (no accordions)
    
    Customizable colors/fonts to match site branding
    
    Example tutorial titles:
    
    How to Apply With Sticky Tabs
    
    How to Remove Press-On Nails Safely
    
    How to Reuse Press-On Nails
    
    Design Preferences:
    
    Background: #FFFFFF, Text: #151515, Accent: #715939
    
    Button styling: rounded, hover effect, on-brand colors
    
    Image border radius: 14px
    
    Responsive design for desktop and mobile, Redesign the “Tutorials” section for SIYOU NAILS with the following specifications:
    
    Main Feature: Only one tutorial is prominently displayed at a time.
    
    Tutorial Selector: Add a visible row of tabs, buttons, or cards at the top of the section, labeled with the titles of the three tutorials:
    
    How to Apply With Sticky Tabs
    
    How to Remove Press-On Nails Safely
    
    How to Reuse Press-On Nails
    
    Interaction: When a user clicks a tutorial, expand it so it fills the section, making it easy to read and visually prominent. The expanded tutorial should not appear tiny—use full width (or a modal that overlays the page, or a wide card that pushes other tutorials aside).
    
    Expanded Tutorial Design: Show all three steps for the selected tutorial in large, easy-to-read cards down the page. Images and step descriptions should be clear and allow for step-by-step navigation.
    
    Transitions: Include a smooth animation (fade or slide, minimum 300ms) when switching tutorials.
    
    Mobile Responsive: Tutorial selector and expanded tutorial should stack and fill the screen for mobile users as well.
    
    Customization: Allow editable step titles, descriptions, and images, plus theme-specific fonts/colors.
    
    Button Navigation: Each expanded tutorial should let users go to next/previous steps, but always display all steps in sequence when expanded.
    
    Style Preferences: Large headings, ample padding, clear fonts, and brand colors: background #FFFFFF, text #151515, accent #715939.
    
    Goal: Replace the current Tutorials section so each tutorial is highly visible when selected, with a simple intuitive switch between tutorials.
    
    , Make the steps for each tutorial. Click through the displays on the page, and not spread out, so that the user doesn't have to scroll down as much. , remmove the three dots 
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-tutorials-section-{{ ai_gen_id }} {
    padding: 60px 20px;
    background-color: {{ block.settings.section_background }};
  }

  .ai-tutorials-container-{{ ai_gen_id }} {
    max-width: 1400px;
    margin: 0 auto;
  }

  .ai-tutorials-heading-{{ ai_gen_id }} {
    text-align: center;
    font-size: {{ block.settings.heading_size }}px;
    color: {{ block.settings.heading_color }};
    margin: 0 0 50px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .ai-tutorial-tabs-{{ ai_gen_id }} {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-bottom: 50px;
    flex-wrap: wrap;
  }

  .ai-tutorial-tab-{{ ai_gen_id }} {
    padding: 16px 28px;
    background-color: {{ block.settings.tab_background }};
    color: {{ block.settings.tab_text_color }};
    border: 2px solid {{ block.settings.tab_border_color }};
    border-radius: {{ block.settings.tab_border_radius }}px;
    cursor: pointer;
    font-size: {{ block.settings.tab_font_size }}px;
    font-weight: 600;
    text-align: center;
    transition: all 0.3s ease;
    flex: 0 1 auto;
    white-space: nowrap;
  }

  .ai-tutorial-tab-{{ ai_gen_id }}:hover {
    background-color: {{ block.settings.tab_hover_background }};
    color: {{ block.settings.tab_hover_text_color }};
    border-color: {{ block.settings.accent_color }};
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }

  .ai-tutorial-tab-{{ ai_gen_id }}:active {
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  }

  .ai-tutorial-tab-{{ ai_gen_id }}.active {
    background-color: {{ block.settings.accent_color }};
    color: {{ block.settings.tab_active_text_color }};
    border-color: {{ block.settings.accent_color }};
    box-shadow: 0 4px 15px rgba(113, 89, 57, 0.3);
  }

  .ai-tutorial-tab-{{ ai_gen_id }}.active:hover {
    transform: none;
  }

  .ai-tutorial-content-wrapper-{{ ai_gen_id }} {
    position: relative;
    min-height: 650px;
  }

  .ai-tutorial-content-{{ ai_gen_id }} {
    opacity: 0;
    visibility: hidden;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    transition: opacity 0.4s ease, visibility 0.4s ease;
  }

  .ai-tutorial-content-{{ ai_gen_id }}.active {
    opacity: 1;
    visibility: visible;
    position: relative;
  }

  .ai-tutorial-header-{{ ai_gen_id }} {
    text-align: center;
    margin-bottom: 40px;
  }

  .ai-tutorial-title-{{ ai_gen_id }} {
    font-size: {{ block.settings.tutorial_title_size }}px;
    color: {{ block.settings.text_color }};
    margin: 0 0 15px;
    font-weight: 700;
  }

  .ai-tutorial-subtitle-{{ ai_gen_id }} {
    font-size: {{ block.settings.subtitle_size }}px;
    color: {{ block.settings.subtitle_color }};
    margin: 0;
    line-height: 1.6;
  }

  .ai-steps-display-{{ ai_gen_id }} {
    position: relative;
    min-height: 500px;
  }

  .ai-step-card-{{ ai_gen_id }} {
    opacity: 0;
    visibility: hidden;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    background-color: {{ block.settings.card_background }};
    border-radius: {{ block.settings.card_border_radius }}px;
    padding: 50px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    transition: opacity 0.4s ease, visibility 0.4s ease;
    pointer-events: none;
    z-index: 1;
  }

  .ai-step-card-{{ ai_gen_id }}.active {
    opacity: 1;
    visibility: visible;
    position: relative;
    pointer-events: auto;
    z-index: 10;
  }

  .ai-step-header-{{ ai_gen_id }} {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 20px;
    margin-bottom: 40px;
  }

  .ai-step-number-{{ ai_gen_id }} {
    flex-shrink: 0;
    width: 70px;
    height: 70px;
    background-color: {{ block.settings.accent_color }};
    color: {{ block.settings.tab_active_text_color }};
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 28px;
    font-weight: 700;
  }

  .ai-step-title-{{ ai_gen_id }} {
    font-size: {{ block.settings.step_title_size }}px;
    color: {{ block.settings.text_color }};
    margin: 0;
    font-weight: 600;
  }

  .ai-step-content-{{ ai_gen_id }} {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 50px;
    align-items: center;
  }

  .ai-step-image-wrapper-{{ ai_gen_id }} {
    width: 100%;
    border-radius: {{ block.settings.image_border_radius }}px;
    overflow: hidden;
    aspect-ratio: 4 / 3;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  }

  .ai-step-image-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .ai-step-image-placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    background-color: #f4f4f4;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .ai-step-image-placeholder-{{ ai_gen_id }} svg {
    width: 100%;
    height: 100%;
    max-width: 200px;
    max-height: 200px;
    opacity: 0.3;
  }

  .ai-step-description-{{ ai_gen_id }} {
    font-size: {{ block.settings.step_description_size }}px;
    color: {{ block.settings.text_color }};
    line-height: 1.8;
    margin: 0;
  }

  .ai-step-navigation-{{ ai_gen_id }} {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 20px;
    margin-top: 40px;
  }

  .ai-nav-button-{{ ai_gen_id }} {
    padding: 14px 28px;
    background-color: {{ block.settings.button_background }};
    color: {{ block.settings.button_text_color }};
    border: 2px solid {{ block.settings.button_background }};
    border-radius: {{ block.settings.button_border_radius }}px;
    cursor: pointer;
    font-size: 13px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1.2px;
    transition: all 0.3s ease;
    flex: 0 1 auto;
    white-space: nowrap;
  }

  .ai-nav-button-{{ ai_gen_id }}:hover {
    background-color: {{ block.settings.button_hover_background }};
    border-color: {{ block.settings.button_hover_background }};
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  .ai-nav-button-{{ ai_gen_id }}:active {
    transform: translateY(0);
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
  }

  .ai-nav-button-{{ ai_gen_id }}:disabled {
    opacity: 0.3;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
    pointer-events: none;
  }

  .ai-nav-button-{{ ai_gen_id }}:disabled:hover {
    background-color: {{ block.settings.button_background }};
    border-color: {{ block.settings.button_background }};
  }

  .ai-step-counter-{{ ai_gen_id }} {
    text-align: center;
    font-size: 16px;
    color: {{ block.settings.subtitle_color }};
    font-weight: 600;
    letter-spacing: 1px;
  }

  .ai-tutorial-switcher-{{ ai_gen_id }} {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 50px;
    padding-top: 40px;
    border-top: 2px solid {{ block.settings.tab_border_color }};
  }

  .ai-tutorial-switch-button-{{ ai_gen_id }} {
    padding: 12px 24px;
    background-color: transparent;
    color: {{ block.settings.text_color }};
    border: 2px solid {{ block.settings.tab_border_color }};
    border-radius: {{ block.settings.button_border_radius }}px;
    cursor: pointer;
    font-size: 13px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1.2px;
    transition: all 0.3s ease;
    flex: 0 1 auto;
    white-space: nowrap;
  }

  .ai-tutorial-switch-button-{{ ai_gen_id }}:hover {
    background-color: {{ block.settings.accent_color }};
    color: {{ block.settings.tab_active_text_color }};
    border-color: {{ block.settings.accent_color }};
    transform: translateY(-2px);
  }

  .ai-tutorial-switch-button-{{ ai_gen_id }}:active {
    transform: translateY(0);
  }

  .ai-tutorial-switch-button-{{ ai_gen_id }}:disabled {
    opacity: 0.3;
    cursor: not-allowed;
    transform: none;
    pointer-events: none;
  }

  .ai-tutorial-switch-button-{{ ai_gen_id }}:disabled:hover {
    background-color: transparent;
    color: {{ block.settings.text_color }};
    border-color: {{ block.settings.tab_border_color }};
  }

  /* Tablet and smaller desktop */
  @media screen and (max-width: 990px) {
    .ai-tutorials-section-{{ ai_gen_id }} {
      padding: 40px 20px;
    }

    .ai-tutorials-heading-{{ ai_gen_id }} {
      font-size: {{ block.settings.heading_size | times: 0.75 }}px;
      margin-bottom: 35px;
    }

    .ai-tutorial-tabs-{{ ai_gen_id }} {
      gap: 15px;
      margin-bottom: 40px;
    }

    .ai-tutorial-tab-{{ ai_gen_id }} {
      padding: 16px 24px;
      font-size: {{ block.settings.tab_font_size | minus: 1 }}px;
      min-width: 180px;
    }

    .ai-tutorial-content-wrapper-{{ ai_gen_id }} {
      min-height: 650px;
    }

    .ai-steps-display-{{ ai_gen_id }} {
      min-height: 550px;
    }

    .ai-step-card-{{ ai_gen_id }} {
      padding: 40px 30px;
    }

    .ai-step-content-{{ ai_gen_id }} {
      gap: 40px;
    }
  }

  /* Mobile landscape and portrait */
  @media screen and (max-width: 749px) {
    .ai-tutorials-section-{{ ai_gen_id }} {
      padding: 30px 16px;
    }

    .ai-tutorials-heading-{{ ai_gen_id }} {
      font-size: {{ block.settings.heading_size | times: 0.65 }}px;
      margin-bottom: 25px;
    }

    .ai-tutorial-tabs-{{ ai_gen_id }} {
      flex-direction: column;
      gap: 12px;
      margin-bottom: 30px;
    }

    .ai-tutorial-tab-{{ ai_gen_id }} {
      width: 100%;
      min-width: auto;
      padding: 14px 20px;
      font-size: {{ block.settings.tab_font_size | minus: 2 }}px;
    }

    .ai-tutorial-content-wrapper-{{ ai_gen_id }} {
      min-height: auto;
    }

    .ai-tutorial-header-{{ ai_gen_id }} {
      margin-bottom: 25px;
    }

    .ai-tutorial-title-{{ ai_gen_id }} {
      font-size: {{ block.settings.tutorial_title_size | times: 0.7 }}px;
    }

    .ai-tutorial-subtitle-{{ ai_gen_id }} {
      font-size: {{ block.settings.subtitle_size | minus: 2 }}px;
      line-height: 1.5;
    }

    .ai-steps-display-{{ ai_gen_id }} {
      min-height: auto;
    }

    .ai-step-card-{{ ai_gen_id }} {
      padding: 25px 20px;
    }

    .ai-step-content-{{ ai_gen_id }} {
      grid-template-columns: 1fr;
      gap: 25px;
    }

    .ai-step-header-{{ ai_gen_id }} {
      gap: 12px;
      margin-bottom: 25px;
    }

    .ai-step-number-{{ ai_gen_id }} {
      width: 55px;
      height: 55px;
      font-size: 22px;
    }

    .ai-step-title-{{ ai_gen_id }} {
      font-size: {{ block.settings.step_title_size | times: 0.8 }}px;
    }

    .ai-step-description-{{ ai_gen_id }} {
      font-size: {{ block.settings.step_description_size | minus: 2 }}px;
      line-height: 1.6;
    }

    .ai-step-navigation-{{ ai_gen_id }} {
      flex-direction: column;
      gap: 12px;
      margin-top: 25px;
    }

    .ai-nav-button-{{ ai_gen_id }} {
      width: 100%;
      max-width: 100%;
      padding: 14px 24px;
      font-size: 13px;
    }

    .ai-step-counter-{{ ai_gen_id }} {
      font-size: 14px;
      order: -1;
    }

    .ai-tutorial-switcher-{{ ai_gen_id }} {
      flex-direction: column;
      gap: 12px;
      margin-top: 30px;
    }

    .ai-tutorial-switch-button-{{ ai_gen_id }} {
      width: 100%;
      padding: 14px 24px;
      font-size: 13px;
    }
  }

  /* Small mobile devices */
  @media screen and (max-width: 480px) {
    .ai-tutorials-section-{{ ai_gen_id }} {
      padding: 25px 12px;
    }

    .ai-tutorials-heading-{{ ai_gen_id }} {
      font-size: {{ block.settings.heading_size | times: 0.55 }}px;
      margin-bottom: 20px;
    }

    .ai-tutorial-tabs-{{ ai_gen_id }} {
      gap: 10px;
      margin-bottom: 25px;
    }

    .ai-tutorial-tab-{{ ai_gen_id }} {
      padding: 12px 16px;
      font-size: {{ block.settings.tab_font_size | minus: 3 }}px;
    }

    .ai-tutorial-header-{{ ai_gen_id }} {
      margin-bottom: 20px;
    }

    .ai-tutorial-title-{{ ai_gen_id }} {
      font-size: {{ block.settings.tutorial_title_size | times: 0.6 }}px;
      margin-bottom: 10px;
    }

    .ai-tutorial-subtitle-{{ ai_gen_id }} {
      font-size: {{ block.settings.subtitle_size | minus: 3 }}px;
    }

    .ai-step-card-{{ ai_gen_id }} {
      padding: 20px 15px;
      border-radius: {{ block.settings.card_border_radius | divided_by: 2 }}px;
    }

    .ai-step-content-{{ ai_gen_id }} {
      gap: 20px;
    }

    .ai-step-header-{{ ai_gen_id }} {
      flex-direction: column;
      text-align: center;
      gap: 10px;
      margin-bottom: 20px;
    }

    .ai-step-number-{{ ai_gen_id }} {
      width: 50px;
      height: 50px;
      font-size: 20px;
    }

    .ai-step-title-{{ ai_gen_id }} {
      font-size: {{ block.settings.step_title_size | times: 0.7 }}px;
    }

    .ai-step-description-{{ ai_gen_id }} {
      font-size: {{ block.settings.step_description_size | minus: 3 }}px;
      line-height: 1.5;
    }

    .ai-step-image-wrapper-{{ ai_gen_id }} {
      border-radius: {{ block.settings.image_border_radius | divided_by: 2 }}px;
    }

    .ai-step-navigation-{{ ai_gen_id }} {
      gap: 10px;
      margin-top: 20px;
    }

    .ai-nav-button-{{ ai_gen_id }} {
      padding: 12px 20px;
      font-size: 12px;
      letter-spacing: 1px;
    }

    .ai-step-counter-{{ ai_gen_id }} {
      font-size: 13px;
    }

    .ai-tutorial-switcher-{{ ai_gen_id }} {
      gap: 10px;
      margin-top: 25px;
    }

    .ai-tutorial-switch-button-{{ ai_gen_id }} {
      padding: 12px 20px;
      font-size: 12px;
    }
  }
{% endstyle %}

<tutorials-section-{{ ai_gen_id }} class="ai-tutorials-section-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-tutorials-container-{{ ai_gen_id }}">
    {% if block.settings.section_heading != blank %}
      <h2 class="ai-tutorials-heading-{{ ai_gen_id }}">{{ block.settings.section_heading }}</h2>
    {% endif %}

    <div class="ai-tutorial-tabs-{{ ai_gen_id }}">
      {% for i in (1..3) %}
        {% liquid
          assign tutorial_title_key = 'tutorial_' | append: i | append: '_title'
          assign tutorial_title = block.settings[tutorial_title_key]
        %}
        {% if tutorial_title != blank %}
          <button
            class="ai-tutorial-tab-{{ ai_gen_id }} {% if i == 1 %}active{% endif %}"
            data-tutorial="{{ i }}"
            aria-label="View {{ tutorial_title }}"
          >
            {{ tutorial_title }}
          </button>
        {% endif %}
      {% endfor %}
    </div>

    <div class="ai-tutorial-content-wrapper-{{ ai_gen_id }}">
      {% for i in (1..3) %}
        {% liquid
          assign tutorial_title_key = 'tutorial_' | append: i | append: '_title'
          assign tutorial_subtitle_key = 'tutorial_' | append: i | append: '_subtitle'
          
          assign tutorial_title = block.settings[tutorial_title_key]
          assign tutorial_subtitle = block.settings[tutorial_subtitle_key]
        %}

        <div class="ai-tutorial-content-{{ ai_gen_id }} {% if i == 1 %}active{% endif %}" data-tutorial-content="{{ i }}">
          <div class="ai-tutorial-header-{{ ai_gen_id }}">
            {% if tutorial_title != blank %}
              <h3 class="ai-tutorial-title-{{ ai_gen_id }}">{{ tutorial_title }}</h3>
            {% endif %}
            {% if tutorial_subtitle != blank %}
              <p class="ai-tutorial-subtitle-{{ ai_gen_id }}">{{ tutorial_subtitle }}</p>
            {% endif %}
          </div>

          <div class="ai-steps-display-{{ ai_gen_id }}">
            {% for step in (1..3) %}
              {% liquid
                assign step_title_key = 'tutorial_' | append: i | append: '_step_' | append: step | append: '_title'
                assign step_description_key = 'tutorial_' | append: i | append: '_step_' | append: step | append: '_description'
                assign step_image_key = 'tutorial_' | append: i | append: '_step_' | append: step | append: '_image'
                
                assign step_title = block.settings[step_title_key]
                assign step_description = block.settings[step_description_key]
                assign step_image = block.settings[step_image_key]
              %}

              <div class="ai-step-card-{{ ai_gen_id }} {% if step == 1 %}active{% endif %}" data-step-card="{{ step }}">
                <div class="ai-step-header-{{ ai_gen_id }}">
                  <div class="ai-step-number-{{ ai_gen_id }}">{{ step }}</div>
                  {% if step_title != blank %}
                    <h4 class="ai-step-title-{{ ai_gen_id }}">{{ step_title }}</h4>
                  {% endif %}
                </div>

                <div class="ai-step-content-{{ ai_gen_id }}">
                  <div class="ai-step-image-wrapper-{{ ai_gen_id }}">
                    {% if step_image %}
                      <img
                        src="{{ step_image | image_url: width: 800 }}"
                        alt="{{ step_title | escape }}"
                        class="ai-step-image-{{ ai_gen_id }}"
                        loading="lazy"
                        width="800"
                        height="600"
                      >
                    {% else %}
                      <div class="ai-step-image-placeholder-{{ ai_gen_id }}">
                        {{ 'image' | placeholder_svg_tag }}
                      </div>
                    {% endif %}
                  </div>

                  <div class="ai-step-text-{{ ai_gen_id }}">
                    {% if step_description != blank %}
                      <p class="ai-step-description-{{ ai_gen_id }}">{{ step_description }}</p>
                    {% endif %}
                  </div>
                </div>

                <div class="ai-step-navigation-{{ ai_gen_id }}">
                  <button
                    class="ai-nav-button-{{ ai_gen_id }} ai-prev-step-{{ ai_gen_id }}"
                    data-action="prev"
                    aria-label="Previous step"
                  >
                    ← Previous
                  </button>
                  
                  <div class="ai-step-counter-{{ ai_gen_id }}">
                    STEP {{ step }} OF 3
                  </div>

                  <button
                    class="ai-nav-button-{{ ai_gen_id }} ai-next-step-{{ ai_gen_id }}"
                    data-action="next"
                    aria-label="Next step"
                  >
                    Next →
                  </button>
                </div>
              </div>
            {% endfor %}
          </div>

          <div class="ai-tutorial-switcher-{{ ai_gen_id }}">
            <button
              class="ai-tutorial-switch-button-{{ ai_gen_id }} ai-prev-tutorial-{{ ai_gen_id }}"
              data-action="prev-tutorial"
              aria-label="Previous tutorial"
            >
              ← Previous Tutorial
            </button>
            <button
              class="ai-tutorial-switch-button-{{ ai_gen_id }} ai-next-tutorial-{{ ai_gen_id }}"
              data-action="next-tutorial"
              aria-label="Next tutorial"
            >
              Next Tutorial →
            </button>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</tutorials-section-{{ ai_gen_id }}>

<script>
  (function() {
    class TutorialsSection{{ ai_gen_id }} extends HTMLElement {
      constructor() {
        super();
        this.currentTutorial = 1;
        this.currentSteps = [1, 1, 1];
        this.totalTutorials = 3;
        this.totalSteps = 3;
      }

      connectedCallback() {
        this.tabs = this.querySelectorAll('.ai-tutorial-tab-{{ ai_gen_id }}');
        this.contents = this.querySelectorAll('.ai-tutorial-content-{{ ai_gen_id }}');
        this.setupEventListeners();
        this.updateAllButtons();
      }

      setupEventListeners() {
        this.tabs.forEach((tab) => {
          tab.addEventListener('click', () => {
            const tutorialIndex = parseInt(tab.getAttribute('data-tutorial'));
            this.switchTutorial(tutorialIndex);
          });
        });

        this.contents.forEach((content, tutorialIndex) => {
          const actualTutorialIndex = tutorialIndex + 1;

          const prevStepButtons = content.querySelectorAll('.ai-prev-step-{{ ai_gen_id }}');
          prevStepButtons.forEach((button) => {
            button.addEventListener('click', () => {
              this.navigateStep(actualTutorialIndex, -1);
            });
          });

          const nextStepButtons = content.querySelectorAll('.ai-next-step-{{ ai_gen_id }}');
          nextStepButtons.forEach((button) => {
            button.addEventListener('click', () => {
              this.navigateStep(actualTutorialIndex, 1);
            });
          });

          const prevTutorialButton = content.querySelector('.ai-prev-tutorial-{{ ai_gen_id }}');
          if (prevTutorialButton) {
            prevTutorialButton.addEventListener('click', () => {
              this.navigateTutorial(-1);
            });
          }

          const nextTutorialButton = content.querySelector('.ai-next-tutorial-{{ ai_gen_id }}');
          if (nextTutorialButton) {
            nextTutorialButton.addEventListener('click', () => {
              this.navigateTutorial(1);
            });
          }
        });
      }

      switchTutorial(index) {
        this.currentTutorial = index;

        this.tabs.forEach((tab) => {
          tab.classList.remove('active');
        });

        this.contents.forEach((content) => {
          content.classList.remove('active');
        });

        const activeTab = this.querySelector(`.ai-tutorial-tab-{{ ai_gen_id }}[data-tutorial="${index}"]`);
        const activeContent = this.querySelector(`.ai-tutorial-content-{{ ai_gen_id }}[data-tutorial-content="${index}"]`);

        if (activeTab) {
          activeTab.classList.add('active');
        }

        if (activeContent) {
          activeContent.classList.add('active');
        }

        this.updateAllButtons();
      }

      switchStep(tutorialIndex, stepIndex) {
        this.currentSteps[tutorialIndex - 1] = stepIndex;

        const content = this.querySelector(`.ai-tutorial-content-{{ ai_gen_id }}[data-tutorial-content="${tutorialIndex}"]`);
        if (!content) return;

        const stepCards = content.querySelectorAll('.ai-step-card-{{ ai_gen_id }}');
        stepCards.forEach((card) => {
          card.classList.remove('active');
        });

        const activeCard = content.querySelector(`.ai-step-card-{{ ai_gen_id }}[data-step-card="${stepIndex}"]`);
        if (activeCard) {
          activeCard.classList.add('active');
        }

        this.updateStepButtons(tutorialIndex);
      }

      navigateStep(tutorialIndex, direction) {
        const currentStep = this.currentSteps[tutorialIndex - 1];
        const newStep = currentStep + direction;

        if (newStep >= 1 && newStep <= this.totalSteps) {
          this.switchStep(tutorialIndex, newStep);
        }
      }

      navigateTutorial(direction) {
        const newIndex = this.currentTutorial + direction;
        
        if (newIndex >= 1 && newIndex <= this.totalTutorials) {
          this.switchTutorial(newIndex);
          
          window.scrollTo({
            top: this.offsetTop - 100,
            behavior: 'smooth'
          });
        }
      }

      updateStepButtons(tutorialIndex) {
        const content = this.querySelector(`.ai-tutorial-content-{{ ai_gen_id }}[data-tutorial-content="${tutorialIndex}"]`);
        if (!content) return;

        const currentStep = this.currentSteps[tutorialIndex - 1];
        const prevButtons = content.querySelectorAll('.ai-prev-step-{{ ai_gen_id }}');
        const nextButtons = content.querySelectorAll('.ai-next-step-{{ ai_gen_id }}');

        prevButtons.forEach((button) => {
          button.disabled = currentStep === 1;
        });

        nextButtons.forEach((button) => {
          button.disabled = currentStep === this.totalSteps;
        });
      }

      updateTutorialButtons() {
        this.contents.forEach((content, index) => {
          const actualIndex = index + 1;
          const prevButton = content.querySelector('.ai-prev-tutorial-{{ ai_gen_id }}');
          const nextButton = content.querySelector('.ai-next-tutorial-{{ ai_gen_id }}');

          if (prevButton) {
            prevButton.disabled = this.currentTutorial === 1;
          }

          if (nextButton) {
            nextButton.disabled = this.currentTutorial === this.totalTutorials;
          }
        });
      }

      updateAllButtons() {
        this.updateStepButtons(this.currentTutorial);
        this.updateTutorialButtons();
      }
    }

    customElements.define('tutorials-section-{{ ai_gen_id }}', TutorialsSection{{ ai_gen_id }});
  })();
</script>

{% schema %}
{
  "name": "Tutorials",
  "tag": null,
  "settings": [
    {
      "type": "header",
      "content": "Section"
    },
    {
      "type": "text",
      "id": "section_heading",
      "label": "Section heading",
      "default": "Tutorials"
    },
    {
      "type": "range",
      "id": "heading_size",
      "min": 24,
      "max": 60,
      "step": 2,
      "unit": "px",
      "label": "Heading size",
      "default": 40
    },
    {
      "type": "color",
      "id": "section_background",
      "label": "Background color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading color",
      "default": "#151515"
    },
    {
      "type": "header",
      "content": "Tutorial tabs"
    },
    {
      "type": "color",
      "id": "tab_background",
      "label": "Tab background",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "tab_text_color",
      "label": "Tab text color",
      "default": "#151515"
    },
    {
      "type": "color",
      "id": "tab_border_color",
      "label": "Tab border color",
      "default": "#e7e7e7"
    },
    {
      "type": "color",
      "id": "tab_hover_background",
      "label": "Tab hover background",
      "default": "#f9f9f9"
    },
    {
      "type": "color",
      "id": "tab_hover_text_color",
      "label": "Tab hover text color",
      "default": "#151515"
    },
    {
      "type": "color",
      "id": "tab_active_text_color",
      "label": "Active tab text color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "accent_color",
      "label": "Accent color",
      "default": "#715939"
    },
    {
      "type": "range",
      "id": "tab_font_size",
      "min": 14,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Tab font size",
      "default": 16
    },
    {
      "type": "range",
      "id": "tab_border_radius",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "label": "Tab border radius",
      "default": 16
    },
    {
      "type": "header",
      "content": "Tutorial content"
    },
    {
      "type": "color",
      "id": "card_background",
      "label": "Card background",
      "default": "#FFFFFF"
    },
    {
      "type": "range",
      "id": "card_border_radius",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "label": "Card border radius",
      "default": 16
    },
    {
      "type": "range",
      "id": "image_border_radius",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "label": "Image border radius",
      "default": 14
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#151515"
    },
    {
      "type": "color",
      "id": "subtitle_color",
      "label": "Subtitle color",
      "default": "#717171"
    },
    {
      "type": "range",
      "id": "tutorial_title_size",
      "min": 24,
      "max": 48,
      "step": 2,
      "unit": "px",
      "label": "Tutorial title size",
      "default": 36
    },
    {
      "type": "range",
      "id": "subtitle_size",
      "min": 14,
      "max": 22,
      "step": 1,
      "unit": "px",
      "label": "Subtitle size",
      "default": 18
    },
    {
      "type": "range",
      "id": "step_title_size",
      "min": 18,
      "max": 32,
      "step": 2,
      "unit": "px",
      "label": "Step title size",
      "default": 24
    },
    {
      "type": "range",
      "id": "step_description_size",
      "min": 14,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Step description size",
      "default": 17
    },
    {
      "type": "header",
      "content": "Navigation buttons"
    },
    {
      "type": "color",
      "id": "button_background",
      "label": "Button background",
      "default": "#715939"
    },
    {
      "type": "color",
      "id": "button_hover_background",
      "label": "Button hover background",
      "default": "#5a4629"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button text color",
      "default": "#FFFFFF"
    },
    {
      "type": "range",
      "id": "button_border_radius",
      "min": 0,
      "max": 30,
      "step": 2,
      "unit": "px",
      "label": "Button border radius",
      "default": 16
    },
    {
      "type": "header",
      "content": "Tutorial 1"
    },
    {
      "type": "text",
      "id": "tutorial_1_title",
      "label": "Title",
      "default": "How to Apply With Sticky Tabs"
    },
    {
      "type": "textarea",
      "id": "tutorial_1_subtitle",
      "label": "Subtitle",
      "default": "Follow these simple steps for a perfect application that lasts up to 2 weeks."
    },
    {
      "type": "text",
      "id": "tutorial_1_step_1_title",
      "label": "Step 1 title",
      "default": "Prepare Your Nails"
    },
    {
      "type": "textarea",
      "id": "tutorial_1_step_1_description",
      "label": "Step 1 description",
      "default": "Start with clean, dry nails. Gently push back your cuticles using a cuticle pusher. Lightly buff the surface of your natural nails to remove shine and create a better adhesive surface. Wipe each nail with an alcohol pad or nail cleanser to remove any oils, dust, or residue. This step is crucial for long-lasting wear."
    },
    {
      "type": "image_picker",
      "id": "tutorial_1_step_1_image",
      "label": "Step 1 image"
    },
    {
      "type": "text",
      "id": "tutorial_1_step_2_title",
      "label": "Step 2 title",
      "default": "Apply Sticky Tab"
    },
    {
      "type": "textarea",
      "id": "tutorial_1_step_2_description",
      "label": "Step 2 description",
      "default": "Select the correct size sticky tab for each nail—it should cover your entire nail bed without touching the cuticles or sides. Peel off the protective film and press the sticky tab firmly onto your natural nail, starting from the cuticle and smoothing toward the tip. Use your finger or a cuticle stick to press out any air bubbles for a smooth, secure base."
    },
    {
      "type": "image_picker",
      "id": "tutorial_1_step_2_image",
      "label": "Step 2 image"
    },
    {
      "type": "text",
      "id": "tutorial_1_step_3_title",
      "label": "Step 3 title",
      "default": "Press and Hold"
    },
    {
      "type": "textarea",
      "id": "tutorial_1_step_3_description",
      "label": "Step 3 description",
      "default": "Remove the top film from the sticky tab. Align the press-on nail with your cuticle at a 45-degree angle, then gently press down and forward. Apply firm, even pressure for 30 seconds, focusing on the center and edges. For best results, avoid water and excessive hand use for at least 2 hours after application to allow the adhesive to fully bond."
    },
    {
      "type": "image_picker",
      "id": "tutorial_1_step_3_image",
      "label": "Step 3 image"
    },
    {
      "type": "header",
      "content": "Tutorial 2"
    },
    {
      "type": "text",
      "id": "tutorial_2_title",
      "label": "Title",
      "default": "How to Remove Press-On Nails Safely"
    },
    {
      "type": "textarea",
      "id": "tutorial_2_subtitle",
      "label": "Subtitle",
      "default": "Remove your press-on nails gently to protect your natural nails and keep them healthy."
    },
    {
      "type": "text",
      "id": "tutorial_2_step_1_title",
      "label": "Step 1 title",
      "default": "Soak in Warm Water"
    },
    {
      "type": "textarea",
      "id": "tutorial_2_step_1_description",
      "label": "Step 1 description",
      "default": "Fill a bowl with warm water and add a few drops of gentle soap or cuticle oil. Soak your nails for 10-15 minutes to soften the adhesive. The warm water will help loosen the bond between the press-on nail and the sticky tab. For stubborn nails, you can soak a bit longer, but avoid using hot water as it can damage your natural nails."
    },
    {
      "type": "image_picker",
      "id": "tutorial_2_step_1_image",
      "label": "Step 1 image"
    },
    {
      "type": "text",
      "id": "tutorial_2_step_2_title",
      "label": "Step 2 title",
      "default": "Gently Lift Edges"
    },
    {
      "type": "textarea",
      "id": "tutorial_2_step_2_description",
      "label": "Step 2 description",
      "default": "After soaking, use a wooden cuticle stick or orange stick to gently lift the edges of the press-on nail. Start from the sides and work your way around. Never force or pull the nail off aggressively—if it doesn't come off easily, soak for a few more minutes. Patience is key to avoiding damage to your natural nail bed."
    },
    {
      "type": "image_picker",
      "id": "tutorial_2_step_2_image",
      "label": "Step 2 image"
    },
    {
      "type": "text",
      "id": "tutorial_2_step_3_title",
      "label": "Step 3 title",
      "default": "Clean and Moisturize"
    },
    {
      "type": "textarea",
      "id": "tutorial_2_step_3_description",
      "label": "Step 3 description",
      "default": "Once removed, clean your natural nails with a gentle nail polish remover or rubbing alcohol to remove any remaining adhesive residue. Wash your hands with soap and water, then apply cuticle oil to your nail beds and massage it in. Follow up with a rich hand cream to restore moisture. Give your nails a break between applications to keep them strong and healthy."
    },
    {
      "type": "image_picker",
      "id": "tutorial_2_step_3_image",
      "label": "Step 3 image"
    },
    {
      "type": "header",
      "content": "Tutorial 3"
    },
    {
      "type": "text",
      "id": "tutorial_3_title",
      "label": "Title",
      "default": "How to Reuse Press-On Nails"
    },
    {
      "type": "textarea",
      "id": "tutorial_3_subtitle",
      "label": "Subtitle",
      "default": "Get more wear out of your favorite press-on nails by cleaning and storing them properly."
    },
    {
      "type": "text",
      "id": "tutorial_3_step_1_title",
      "label": "Step 1 title",
      "default": "Remove Old Adhesive"
    },
    {
      "type": "textarea",
      "id": "tutorial_3_step_1_description",
      "label": "Step 1 description",
      "default": "After carefully removing your press-on nails, it's time to clean them for reuse. Use a cotton pad soaked in acetone-based nail polish remover or rubbing alcohol to gently wipe away all adhesive residue from the back of each nail. For stubborn adhesive, let the cotton pad sit on the nail for a few seconds to dissolve it. Make sure the surface is completely clean and smooth before storing."
    },
    {
      "type": "image_picker",
      "id": "tutorial_3_step_1_image",
      "label": "Step 1 image"
    },
    {
      "type": "text",
      "id": "tutorial_3_step_2_title",
      "label": "Step 2 title",
      "default": "Store Properly"
    },
    {
      "type": "textarea",
      "id": "tutorial_3_step_2_description",
      "label": "Step 2 description",
      "default": "Once your press-on nails are clean and dry, place them back in their original packaging or store them in a small container or nail storage box. Organize them by size to make your next application easier. Keep the container in a cool, dry place away from direct sunlight, heat, and moisture. Proper storage will help maintain the quality and shape of your press-on nails for multiple uses."
    },
    {
      "type": "image_picker",
      "id": "tutorial_3_step_2_image",
      "label": "Step 2 image"
    },
    {
      "type": "text",
      "id": "tutorial_3_step_3_title",
      "label": "Step 3 title",
      "default": "Reapply When Ready"
    },
    {
      "type": "textarea",
      "id": "tutorial_3_step_3_description",
      "label": "Step 3 description",
      "default": "When you're ready to wear your press-on nails again, simply follow the application instructions using fresh sticky tabs or nail glue. Inspect each nail before reapplying to ensure there's no damage or warping. With proper care and storage, quality press-on nails can be reused 5-10 times or more, making them an eco-friendly and cost-effective beauty choice."
    },
    {
      "type": "image_picker",
      "id": "tutorial_3_step_3_image",
      "label": "Step 3 image"
    }
  ],
  "presets": [
    {
      "name": "Tutorials"
    }
  ]
}
{% endschema %}